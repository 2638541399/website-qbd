---
---

# 开源软件镜像服务

南阳理工学院开源软件镜像站在 2023 年 4 月由于服务器原因不得不下线，在 4 月中旬开始中旬开始重新部署。初次重新部署时选择用三台服务器分别储存镜像文件，使用一台服务器通过 nginx 反向代理来提供服务。前后端均采用清华大学 tuna 协会的 mirror-web 和 tunasync 项目。重新部署后三台服务器分别为 4T\*8 的 HDD 硬盘，通过阵列卡组建 raid5，总容量约 90T。稳定运行一段时间后，三台储存服务器上的硬盘相继出现故障，mirror1 mirror2 服务器上储存了 centos，debian，ubuntu 等热门镜像，由于恶意刷流行为，服务器的性能不足以及内存出现故障，服务能力下降。

考虑到这一问题，我们决定使用 zfs 作为镜像站的后端储存，在与其他高校镜像站管理员沟通后，2023 年 7 月份，上线了一台新服务器用以提供服务，该服务器先使用 16T*5 7200r HDD 硬盘构建 raidz 储存池来储存镜像文件。与原来的分布式储存并行，大部分镜像交由该服务器提供服务。由于疏忽，我们将所有镜像文件都放在一个文件系统下，正确做法应该是 zfs create pool/mirrorname 后将镜像文件储存在 mirrorname 中。2023 年 10 月，我们用剩下的 16T*5 重新构建储存池，将原来的镜像文件重新复制到新池，销毁旧池并将原来的硬盘加入新池中。至此，新机器的储存阵列构建完毕，储存当量达 120T，总容量达 150T。mirror1 和 mirror2 服务器下线，mirror3 保持原状提供 pypi（python 软件包仓库）。

现在一共有三台服务器来提供服务:

- web DELL R930 256G RAM 500G SSD 系统盘
- zfs 新华三 384G RAM 120T 储存 500G SSD 系统盘
- mirror3 曙光 16GRAM 30T 储存

计算机与信息化处理协会担任镜像站维护工作，搭建了针对镜像站的日志分析和服务器监控，截至 2023 年 12 月 31 日，服务器日均流量在 1Gbps/s，日均访客量至少达 25w，是 centos，fedora，debian，ubuntu，epel，almalinux，archlinux 等社区的官方镜像，镜像站得到众多开源软件用户好评。镜像站已加入教育网联合镜像站 mirrors.cernet.edu.cn ，由教育网联合镜像站根据用户地域和网速情况提供 302 服务。

- [详细介绍](/wiki/server/mirrors)
- [mirrors 首页](http://mirror.nyist.edu.cn/)
- [开源镜像站使用帮助](/wiki/mirrors/help)
